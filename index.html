<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>All My Friends - Alpha</title>
    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
    <meta charset='utf-8'>
    <meta content='Description' name=''>
    <meta content='1 day' name='revisit-after'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <link rel="shortcut icon" href="favicon.ico?v=5" type="image/x-icon">
    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,400italic,300italic,100italic,700italic,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <!-- Styles -->
    <link href="stylesheets/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/style.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/specificStyle.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 fallbacks -->
    <!--[if lt IE 9]>
    <script src="javascripts/html5shiv.js" type="text/javascript"></script>
    <script src="javascripts/respond.min.js" type="text/javascript"></script>
    <![endif]-->

</head>

<body style=" overflow-x: hiden; overflow-y: hidden ">

    <!-- Facebook API Start -->
    <div id='fb-root'></div>
    <script type="text/javascript">
        window.fbAsyncInit = function() {
            FB.init({
                appId: '1866038240375692',
                xfbml: true,
                version: 'v2.12',
                status: true,
                cookie: true,
                oauth: true
            });
        };


        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {
                return;
            }
            js = d.createElement(s);
            js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));


        /* make the API call */
        function facebookButtonPressed() {
            FB.login(function(response) {
                if (response.authResponse) {
                    var body = 'Reading JS SDK documentation';

                    //Taggable Friends Call
                    FB.api('/me/taggable_friends?fields=name&limit=50', function(response) {
                        if (!response || response.error) {
                            var read_err_text = 'Error';
                            $("#read_result").text(read_err_text);
                        } else {

                            // Stuff that happens when the button is pressed
                            var read_ok_text = jsonParser(response);
                            $("#read_result").html(read_ok_text);

                            addFriendsToArray();

                            FB.logout(function(response) {
                                // user is now logged out
                                console.log("Logged Out");
                            });

                            if (isWindowOpen == false) {
                                openDisplayWindow();
                                isWindowOpen = true;
                            }

                        }
                    });

                } else {
                    alert('User is logged out');
                }
            }, {
                scope: 'public_profile,user_friends'
            });
        };

        function jsonParser(response) {
            var message = "";
            var dataArray = response.data;
            for (var count in dataArray) {
                message = message + dataArray[count].name;
                message = message + '<br/>';


            }
            return message;
        };
    </script>
    <!-- Facebook API End -->

    <!-- Content Begin -->
    <div class='container-fluid'>

        <!-- Header -->
        <header data-spy='affix'>
            <section>
                <ul class="textColorWhite" id='navigation' >
                    <li><a href='index.html'><p style="color: #000">Home</p></a></li>
                    <li><a href='privacy.html'><p style="color: #000">Privacy</p></a></li>
                    <li><a href='about.html'><p style="color: #000">About</p></a></li>
                </ul>
            </section>
        </header>

        <!-- Start of Main Section Body-->
        <section class='jumbotron gray'>

            <section>
                <div class='row'>

                    <!--Information Box One-->
                    <div class=' col-md-offset-3 col-md-6 textColorWhite' style=" color: #000; text-align: center; padding-bottom: 25%">
                        <h1>All My Friends.</h1>
                        <p style = " color: #000; " id="randomSelect">This is an audience-based experience. To participate, you must authorize the use of your friends list. Use the button below to sign in.</p>
                        
                        <input type="button" class="btn btn-light" value="Sign in" onclick="facebookButtonPressed();" style="color:black;">
                        <span id="read_result"></span>
                    </div>

                </div>

            </section>
        </section>
        <!-- End of Main Section Body-->

    </div>
    <!-- End of Content -->

    <!-- Javascript Loaders -->
    <script src="javascripts/allMyFunctions.js " type="text/javascript "></script>
    <script src="javascripts/p5.min.js " type="text/javascript "></script>
    <script src="javascripts/p5.dom.min.js " type="text/javascript "></script>
    <script src="javascripts/p5.sound.min.js " type="text/javascript "></script>
    <script src="javascripts/jquery.min.js " type="text/javascript "></script>
    <script src="javascripts/jquery.easing.1.3.js " type="text/javascript "></script>
    <script src="javascripts/jquery.mobile.custom.min.js " type="text/javascript "></script>
    <script src="javascripts/tera-slider.js " type="text/javascript "></script>
    <script src="javascripts/tera-lightbox.js " type="text/javascript "></script>
    <script src="javascripts/isotope.pkgd.min.js " type="text/javascript "></script>
    <script src="javascripts/bootstrap.min.js " type="text/javascript "></script>
    <script src="javascripts/validation.js " type="text/javascript "></script>
    <script src="javascripts/jquery.placeholder.js " type="text/javascript "></script>
    <script src="javascripts/waypoints.min.js " type="text/javascript "></script>
    <script src="javascripts/functions.js " type="text/javascript "></script>


    <!-- Open new window -->

</body>

</html>